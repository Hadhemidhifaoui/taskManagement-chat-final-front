<div class="flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900">
  <div
    class="flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"
  >
    <div class="flex flex-col overflow-y-auto md:flex-row">
      <div class="h-32 md:h-auto md:w-1/2">
        <img
          aria-hidden="true"
          class="object-cover w-full h-full dark:hidden"
          src="../assets/img/create-account-office.jpeg"
          alt="Office"
        />
        <img
          aria-hidden="true"
          class="hidden object-cover w-full h-full dark:block"
          src="../assets/img/create-account-office-dark.jpeg"
          alt="Office"
        />
      </div>
      <div class="flex items-center justify-center p-6 sm:p-12 md:w-1/2">
        <div class="w-full">
          <h1
            class="mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"
          >
          Créer un compte
          </h1>

          <form (ngSubmit)="register()" [formGroup]="registerForm">
            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400">Le nom de l'utilisateur</span>
              <input
              class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
              placeholder="Username"
              formControlName="name"
              required
            />
              <span style="color: purple;font-weight: bold;"  *ngIf="registerForm.controls['name'].invalid && registerForm.controls['name'].touched" class="text-red-500">
                Le nom est obligatoire
              </span>
            </label>

            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400">Adresse Email</span>
              <input
              class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
              placeholder="Email"
              formControlName="email"
              required
              pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
            />
              <span  style="color: purple;font-weight: bold;" *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].touched" class="text-red-500">
                L'adresse e-mail est obligatoire et doit être une adresse e-mail valide.
              </span>
            </label>

            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400">La fonction</span>
              <input
              class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
              placeholder="Entrer votre position"
              formControlName="position"
              required
            />
          </label>



            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400">Mot de Passe</span>
              <input
              class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
              placeholder="Password"
              type="password"
              formControlName="password"
              required
              minlength="8"
            />
              <span style="color: purple;font-weight: bold;" *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched" class="text-red-500">
                Le mot de passe est requis et doit comporter au moins 8 caractères
              </span>
            </label>

            <label class="block mt-4 text-sm">
              <span class="text-gray-700 dark:text-gray-400">Confirm Password</span>
              <input
                class="block w-full mt-1 text-sm dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:text-gray-300 dark:focus:shadow-outline-gray form-input"
                placeholder="Confirm Password"
                type="password"
                formControlName="confirmPassword"
                required
              />
              <span style="color: purple;font-weight: bold;" *ngIf="registerForm.controls['confirmPassword'].invalid && registerForm.controls['confirmPassword'].touched" class="text-red-500">
                La confirmation du mot de passe est requise.
              </span>
              <span style="color: purple;font-weight: bold;" *ngIf="confirmPassword !== password" class="text-red-500">
                Les mots de passe ne correspondent pas.
              </span>
            </label>
            <br>
            <div class="custom-file">
              <input type="file" id="profileImage" formControlName="profileImage" name="profileImage" class="custom-file-input" accept="image/*" (change)="handleImageInput($event)" required>

              <label class="custom-file-label" for="profileImage">Choisir une image...</label>
            </div>

            <!-- Affichage de l'image sélectionnée -->
            <div *ngIf="selectedImage" class="mt-2">
              <img
                class="w-20 h-20 object-cover rounded-full"
                [src]="selectedImagePreview"
                alt="Selected Profile Image"
              />
            </div>

            <div class="flex mt-6 text-sm">
              <label class="flex items-center dark:text-gray-400">
                <input
                  type="checkbox"
                  class="text-purple-600 form-checkbox focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray"
                  formControlName="isCheckboxChecked"
                  required
                />
                <span class="ml-2">
                  J'accepte la politique de confidentialité

                </span>
              </label>
              <span style="color: purple;font-weight: bold;"  *ngIf="registerForm.controls['isCheckboxChecked'].invalid && registerForm.controls['isCheckboxChecked'].touched">
                Vous devez accepter la politique de confidentialité
              </span>

            </div>
            <button
            type="submit"
            class="block w-full px-4 py-2 mt-4 text-sm font-medium leading-5 text-center text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple"
            [disabled]="!registerForm.valid"
          >
            S'inscrire
          </button>
        </form>


          <hr class="my-8" />
          <p class="mt-4">
            <a
              class="text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline"
              routerLink =""
            >
            Vous avez déjà un compte ? Connectez-vous
            </a>
          </p>

        </div>
      </div>
    </div>
  </div>
</div>
